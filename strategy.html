<!--
 * @Author: 李聪
 * @Date: 2021-07-29 15:27:46
 * @LastEditors: 李聪
 * @LastEditTime: 2021-08-04 14:36:36
 * @Description: 策略模式
-->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      // 定义一个询价处理器对象
      const priceProcessor = {
        pre(originPrice) {
          if (originPrice >= 100) {
            return originPrice - 20;
          }
          return originPrice * 0.9;
        },
        onSale(originPrice) {
          if (originPrice >= 100) {
            return originPrice - 30;
          }
          return originPrice * 0.8;
        },
        back(originPrice) {
          if (originPrice >= 200) {
            return originPrice - 50;
          }
          return originPrice;
        },
        fresh(originPrice) {
          return originPrice * 0.5;
        }
      };

      // 调用询价函数
      function askPrice(tag, originPrice) {
        return priceProcessor[tag](originPrice);
      }

      // 如果你需要一个新人价，只需要给 priceProcessor 新增一个映射关系：
      priceProcessor.newUser = function (originPrice) {
        if (originPrice >= 100) {
          return originPrice - 50;
        }
        return originPrice;
      };
    </script>
  </body>
</html>
